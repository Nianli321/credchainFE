{"ast":null,"code":"var _jsxFileName = \"/Users/nian/credchain_frontend/src/components/Dashboard.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Card } from \"react-bootstrap\";\nimport { useAuth } from \"../contexts/AuthContext\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport SimpleBottomNavigation from \"./Bottom\";\nimport { auth } from '../firebase';\nimport BlockIcon from '@mui/icons-material/Block';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport { generateDID, genKeyPair } from '../utilities';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport Divider from '@mui/material/Divider';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport PersonIcon from '@mui/icons-material/Person';\nimport { green } from '@mui/material/colors';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\nimport Box from '@mui/material/Box';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport Checkbox from '@mui/material/Checkbox';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Snackbar from '@mui/material/Snackbar';\n// import CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\n// import NumbersIcon from '@mui/icons-material/Numbers';\n// import DateRangeIcon from '@mui/icons-material/DateRange';\nimport GradingIcon from '@mui/icons-material/Grading';\nimport SchoolIcon from '@mui/icons-material/School';\nimport LocalLibraryIcon from '@mui/icons-material/LocalLibrary';\nimport { db } from '../firebase';\nimport img from \"../image/aassad81aa.png\";\nimport TextField from '@mui/material/TextField';\nimport { TextareaAutosize } from '@mui/base';\nimport MuiAlert from '@mui/material/Alert';\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return /*#__PURE__*/React.createElement(MuiAlert, Object.assign({\n    elevation: 6,\n    ref: ref,\n    variant: \"filled\"\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 10\n    }\n  }));\n});\nexport default function Dashboard() {\n  const [user] = useAuthState(auth);\n  const [error, setError] = useState(\"\");\n  const {\n    currentUser,\n    logout\n  } = useAuth();\n  const history = useHistory();\n  const [page, setPage] = useState(0);\n  const [admin, setAdmin] = useState(false);\n  const [file, setFile] = useState();\n  const [state, setState] = React.useState({\n    dob: true,\n    licence_no: false,\n    expiry: false\n  });\n  const [state2, setState2] = React.useState({\n    wam: true,\n    faculty: false,\n    units: false\n  });\n  const [selectedCredential, setSelectedCredential] = useState(-1);\n\n  // const [credential, setCredential] = React.useState({\n  //   driversLicence: true,\n  //   transcript: true,\n  // })\n\n  const [contactEmail, setContactEmail] = React.useState('');\n  const [nickname, setNickname] = React.useState('');\n  const [contacts, setContacts] = React.useState({});\n  const [credentials, setCredentials] = React.useState({});\n  const [open, setOpen] = React.useState(false);\n  const [openContact, setOpenContact] = React.useState(false);\n  const [openAdd, setOpenAdd] = React.useState(false);\n  const [selections, setSelections] = React.useState([]);\n  const [disclosed, setDisclosed] = React.useState([true, true, true, true, true]);\n  const [text, setText] = React.useState(\"\");\n  const [title, setTitle] = React.useState(\"\");\n  const [snack, setSnack] = React.useState(false);\n  const [warn, setWarn] = React.useState(false);\n  useEffect(() => {\n    getCredentials();\n    isAdmin();\n    getContacts();\n  }, [admin]);\n  const handleClickOpen = index => {\n    setSelectedCredential(index);\n    setOpen(true);\n  };\n  const handleClose = () => {\n    if (selectedCredential !== -1) {\n      const key = Object.keys(credentials)[selectedCredential];\n      let ref = db.ref('/Credentials/' + key);\n      ref.child('valid').set('false');\n    }\n    setOpen(false);\n  };\n  const handleCloseContact = () => {\n    let ref = db.ref('/Contact');\n    if (admin) {\n      ref.child('users/' + nickname).set({\n        email: contactEmail\n      });\n    }\n    setOpenContact(false);\n  };\n  const handleChange2 = event => {\n    setState2({\n      ...state2,\n      [event.target.name]: event.target.checked\n    });\n  };\n  const {\n    wam,\n    faculty,\n    units\n  } = state2;\n  const getCredentials = () => {\n    let ref = db.ref('/Credentials');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      setCredentials(state);\n    });\n  };\n  const getContacts = () => {\n    let ref = db.ref('/Contact/admin');\n    if (admin) {\n      ref = db.ref('/Contact/users');\n    }\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      setContacts(state);\n    });\n  };\n  const isAdmin = () => {\n    let ref = db.ref('/Roles');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      const obj = Object.values(state === null || state === void 0 ? void 0 : state.admin);\n      console.log(user.email);\n      console.log(obj[0]);\n      if ((obj === null || obj === void 0 ? void 0 : obj.length) > 0 && obj[0] === user.email) {\n        setAdmin(true);\n      }\n    });\n  };\n  async function handleLogout() {\n    setError(\"\");\n    try {\n      await logout();\n      history.push(\"/login\");\n    } catch {\n      setError(\"Failed to log out\");\n    }\n  }\n  const handleSelectiveDisclosure = index => {\n    const obj = Object.values(credentials)[index];\n    setSelections(Object.entries(obj));\n    setPage(3);\n  };\n  const setCredential = (credential_name, body) => {\n    let ref = db.ref('/Credentials');\n    ref.child(credential_name).set({\n      ...body,\n      issuedBy: \"UNSW\",\n      valid: \"true\"\n    });\n  };\n  let a = genKeyPair(admin);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, page === 0 && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 11\n    }\n  }, \"Profile\"), error && /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 21\n    }\n  }, error), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 14\n    }\n  }, \"Email:\"), \" \", currentUser.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 14\n    }\n  }, \"DID:\"), \" \", generateDID(user.uid)), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 14\n    }\n  }, \"private key:\"), \" \", a), /*#__PURE__*/React.createElement(Link, {\n    to: \"/update-profile\",\n    className: \"btn btn-primary w-100 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 11\n    }\n  }, \"Update Profile\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 text-center mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"link\",\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, \"Log Out\"))), page === 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(List, {\n    sx: {\n      width: '100%',\n      maxWidth: 360,\n      bgcolor: 'background.paper'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 7\n    }\n  }, credentials && Object.entries(credentials).map((entry, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    sx: {\n      bgcolor: green[500]\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AssignmentIcon, {\n    onClick: () => handleSelectiveDisclosure(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: entry[0],\n    secondary: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      sx: {\n        display: 'inline'\n      },\n      component: \"span\",\n      variant: \"body2\",\n      color: \"text.primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 19\n      }\n    }, \"Issued by: \", entry[1].issuedBy)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }), admin && /*#__PURE__*/React.createElement(BlockIcon, {\n    onClick: () => handleClickOpen(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    variant: \"inset\",\n    component: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 11\n    }\n  })))), admin && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    onChange: e => {\n      if (e.target.files) {\n        setFile(e.target.files[0]);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }\n  }, file && `${file.name} - ${file.type}`), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    component: \"label\",\n    disabled: !file,\n    onClick: () => setSnack(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 9\n    }\n  }, \"Scan QR Code\")), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: snack,\n    autoHideDuration: 6000,\n    onClose: () => setSnack(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: () => setSnack(false),\n    severity: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }\n  }, \"Verified!\"))), page === 2 && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"text-center mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 11\n    }\n  }, \"Contacts\"), /*#__PURE__*/React.createElement(List, {\n    sx: {\n      width: '100%',\n      maxWidth: 360,\n      bgcolor: 'background.paper'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 11\n    }\n  }, contacts && Object.entries(contacts).map((entry, index) => /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ListItem, {\n    alignItems: \"flex-start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(PersonIcon, {\n    onClick: () => setOpenAdd(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: entry[0],\n    secondary: /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      sx: {\n        display: 'inline'\n      },\n      component: \"span\",\n      variant: \"body2\",\n      color: \"text.primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 27\n      }\n    }, entry[1].email.toString())),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 290,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    variant: \"inset\",\n    component: \"li\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 19\n    }\n  })))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 text-center mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }\n  }, admin && /*#__PURE__*/React.createElement(Button, {\n    variant: \"link\",\n    onClick: () => setOpenContact(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 19\n    }\n  }, \"Add Contacts\"), /*#__PURE__*/React.createElement(Dialog, {\n    open: openContact,\n    onClose: () => setOpenContact(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 9\n    }\n  }, \"Add Contact\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 11\n    }\n  }, \"To add a new contact, please enter the email address here.\"), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"name\",\n    label: \"Email Address\",\n    type: \"email\",\n    fullWidth: true,\n    variant: \"standard\",\n    value: contactEmail,\n    onChange: e => setContactEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    autoFocus: true,\n    margin: \"dense\",\n    id: \"nickname\",\n    label: \"Nickname\",\n    type: \"text\",\n    fullWidth: true,\n    variant: \"standard\",\n    value: nickname,\n    onChange: e => setNickname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpenContact(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => handleCloseContact(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 11\n    }\n  }, \"Add\"))), /*#__PURE__*/React.createElement(Dialog, {\n    open: openAdd,\n    onClose: () => setOpenAdd(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 9\n    }\n  }, \"Issue Credential to the user\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 11\n    }\n  }, \"Please type in the credential in JSON format.\"), /*#__PURE__*/React.createElement(TextField, {\n    label: \"key\",\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 356,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(TextareaAutosize, {\n    value: text,\n    onChange: e => setText(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => setOpenAdd(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 11\n    }\n  }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      setCredential(title, JSON.parse(text.toString()));\n      setOpenAdd(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 11\n    }\n  }, \"Issue\"))))), page === 3 && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    sx: {\n      m: 3\n    },\n    component: \"fieldset\",\n    variant: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }\n  }, \"Selective Disclosure\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }\n  }, selections.map((entry, index) => {\n    if (entry[0] === \"issuedBy\" || entry[0] === \"valid\") {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, \" \");\n    }\n    return /*#__PURE__*/React.createElement(FormControlLabel, {\n      control: /*#__PURE__*/React.createElement(Checkbox, {\n        checked: disclosed[index],\n        onChange: () => {\n          setDisclosed([...disclosed.slice(0, index), !disclosed[index], ...disclosed.slice(index + 1)]);\n        },\n        name: entry[0],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 19\n        }\n      }),\n      label: entry[0],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 15\n      }\n    });\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => {\n      if (selections.find((entry, index) => {\n        return entry[0] === \"valid\" && selections[index][1] === \"true\";\n      })) {\n        setPage(5);\n      } else {\n        setWarn(true);\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 9\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398,\n      columnNumber: 9\n    }\n  }, \"Please choose the fields you want to disclose\")), /*#__PURE__*/React.createElement(Snackbar, {\n    anchorOrigin: {\n      vertical: 'top',\n      horizontal: 'center'\n    },\n    open: warn,\n    autoHideDuration: 6000,\n    onClose: () => setWarn(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 400,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Alert, {\n    onClose: () => setWarn(false),\n    severity: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 9\n    }\n  }, \"The credential has been revoked by the issuer\"))), page === 4 && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(FormControl, {\n    sx: {\n      m: 3\n    },\n    component: \"fieldset\",\n    variant: \"standard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(FormLabel, {\n    component: \"legend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 9\n    }\n  }, \"Selective Disclosure\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: wam,\n      onChange: handleChange2,\n      name: \"wam\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 15\n      }\n    }),\n    label: \"WAM\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: faculty,\n      onChange: handleChange2,\n      name: \"faculty\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 423,\n        columnNumber: 15\n      }\n    }),\n    label: \"faculty\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Checkbox, {\n      checked: units,\n      onChange: handleChange2,\n      name: \"units\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 15\n      }\n    }),\n    label: \"units\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    onClick: () => setPage(6),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 9\n    }\n  }, \"Confirm\"), /*#__PURE__*/React.createElement(FormHelperText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 9\n    }\n  }, \"Please choose the fields you want to disclose\"))), page === 5 && /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }\n  }, !admin && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 21\n    }\n  }, \"Please present this QR code to the verifier\", /*#__PURE__*/React.createElement(\"img\", {\n    style: {\n      width: 250,\n      height: 250\n    },\n    src: img,\n    alt: \"error generating qr code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 445,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(List, {\n    sx: {\n      width: '100%',\n      maxWidth: 360,\n      bgcolor: 'background.paper'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448,\n      columnNumber: 9\n    }\n  }, disclosed.map((value, index) => {\n    if (value && selections[index][0] !== \"issuedBy\" && selections[index][0] !== \"valid\") {\n      return /*#__PURE__*/React.createElement(ListItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Avatar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(PersonIcon, {\n        color: \"primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 21\n        }\n      }))), /*#__PURE__*/React.createElement(ListItemText, {\n        primary: selections[index][0],\n        secondary: selections[index][1],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 17\n        }\n      }));\n    }\n  }))), page === 6 && /*#__PURE__*/React.createElement(List, {\n    sx: {\n      width: '100%',\n      maxWidth: 360,\n      bgcolor: 'background.paper'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 469,\n      columnNumber: 7\n    }\n  }, wam && /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(GradingIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 473,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"WAM\",\n    secondary: \"82\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 476,\n      columnNumber: 9\n    }\n  })), faculty && /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SchoolIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Faculty\",\n    secondary: \"Engineering\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 9\n    }\n  })), units && /*#__PURE__*/React.createElement(ListItem, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 486,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListItemAvatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 487,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 488,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(LocalLibraryIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(ListItemText, {\n    primary: \"Units completed\",\n    secondary: \"128\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 492,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(Dialog, {\n    open: open,\n    onClose: handleClose,\n    \"aria-labelledby\": \"alert-dialog-title\",\n    \"aria-describedby\": \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(DialogTitle, {\n    id: \"alert-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 9\n    }\n  }, \"Revoke credential?\"), /*#__PURE__*/React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(DialogContentText, {\n    id: \"alert-dialog-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 506,\n      columnNumber: 11\n    }\n  }, \"Once you confirm the credential will be revoked.\")), /*#__PURE__*/React.createElement(DialogActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 511,\n      columnNumber: 11\n    }\n  }, \"Disagree\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleClose,\n    autoFocus: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512,\n      columnNumber: 11\n    }\n  }, \"Agree\"))), /*#__PURE__*/React.createElement(SimpleBottomNavigation, {\n    setPage: setPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 517,\n      columnNumber: 5\n    }\n  }));\n}","map":{"version":3,"names":["React","useEffect","useState","Card","useAuth","Link","useHistory","SimpleBottomNavigation","auth","BlockIcon","useAuthState","generateDID","genKeyPair","List","ListItem","Divider","ListItemText","ListItemAvatar","Avatar","Typography","Button","PersonIcon","green","AssignmentIcon","Box","FormLabel","FormControl","FormGroup","FormControlLabel","FormHelperText","Checkbox","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Snackbar","GradingIcon","SchoolIcon","LocalLibraryIcon","db","img","TextField","TextareaAutosize","MuiAlert","Alert","forwardRef","props","ref","createElement","Object","assign","elevation","variant","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Dashboard","user","error","setError","currentUser","logout","history","page","setPage","admin","setAdmin","file","setFile","state","setState","dob","licence_no","expiry","state2","setState2","wam","faculty","units","selectedCredential","setSelectedCredential","contactEmail","setContactEmail","nickname","setNickname","contacts","setContacts","credentials","setCredentials","open","setOpen","openContact","setOpenContact","openAdd","setOpenAdd","selections","setSelections","disclosed","setDisclosed","text","setText","title","setTitle","snack","setSnack","warn","setWarn","getCredentials","isAdmin","getContacts","handleClickOpen","index","handleClose","key","keys","child","set","handleCloseContact","email","handleChange2","event","target","name","checked","on","snapshot","val","obj","values","console","log","length","handleLogout","push","handleSelectiveDisclosure","entries","setCredential","credential_name","body","issuedBy","valid","a","Fragment","Body","className","uid","to","onClick","sx","width","maxWidth","bgcolor","map","entry","alignItems","primary","secondary","display","component","color","type","onChange","e","files","disabled","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","severity","toString","autoFocus","margin","id","label","fullWidth","value","JSON","parse","m","control","slice","find","style","height","src","alt"],"sources":["/Users/nian/credchain_frontend/src/components/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Card } from \"react-bootstrap\"\nimport { useAuth } from \"../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport SimpleBottomNavigation from \"./Bottom\"\nimport { auth } from '../firebase';\nimport BlockIcon from '@mui/icons-material/Block';\nimport { useAuthState } from 'react-firebase-hooks/auth';\nimport {generateDID, genKeyPair} from '../utilities';\nimport List from '@mui/material/List';\nimport ListItem from '@mui/material/ListItem';\nimport Divider from '@mui/material/Divider';\nimport ListItemText from '@mui/material/ListItemText';\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\nimport Avatar from '@mui/material/Avatar';\nimport Typography from '@mui/material/Typography';\nimport Button from '@mui/material/Button';\nimport PersonIcon from '@mui/icons-material/Person';\n\nimport { green } from '@mui/material/colors';\nimport AssignmentIcon from '@mui/icons-material/Assignment';\n\nimport Box from '@mui/material/Box';\nimport FormLabel from '@mui/material/FormLabel';\nimport FormControl from '@mui/material/FormControl';\nimport FormGroup from '@mui/material/FormGroup';\nimport FormControlLabel from '@mui/material/FormControlLabel';\nimport FormHelperText from '@mui/material/FormHelperText';\nimport Checkbox from '@mui/material/Checkbox';\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Snackbar from '@mui/material/Snackbar';\n// import CalendarMonthIcon from '@mui/icons-material/CalendarMonth';\n// import NumbersIcon from '@mui/icons-material/Numbers';\n// import DateRangeIcon from '@mui/icons-material/DateRange';\nimport GradingIcon from '@mui/icons-material/Grading';\nimport SchoolIcon from '@mui/icons-material/School';\nimport LocalLibraryIcon from '@mui/icons-material/LocalLibrary';\nimport { db } from '../firebase';\nimport img from \"../image/aassad81aa.png\"\nimport TextField from '@mui/material/TextField';\nimport { TextareaAutosize } from '@mui/base';\nimport MuiAlert from '@mui/material/Alert';\n\nconst Alert = React.forwardRef(function Alert(props, ref) {\n  return <MuiAlert elevation={6} ref={ref} variant=\"filled\" {...props} />;\n});\n\n\nexport default function Dashboard() {\n  \n  const [user] = useAuthState(auth);\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n  const [page, setPage] = useState(0)\n  const [admin, setAdmin] = useState(false)\n  const [file, setFile] = useState();\n  const [state, setState] = React.useState({\n    dob: true,\n    licence_no: false,\n    expiry: false,\n  });\n\n  const [state2, setState2] = React.useState({\n    wam: true,\n    faculty: false,\n    units: false,\n  });\n\n  const [ selectedCredential, setSelectedCredential ] = useState(-1)\n\n  // const [credential, setCredential] = React.useState({\n  //   driversLicence: true,\n  //   transcript: true,\n  // })\n\n  const [contactEmail, setContactEmail] = React.useState('')\n  const [nickname, setNickname] = React.useState('')\n  const [contacts, setContacts] = React.useState({})\n  const [credentials, setCredentials] = React.useState({})\n\n  const [open, setOpen] = React.useState(false);\n  const [openContact, setOpenContact] = React.useState(false);\n  const [openAdd, setOpenAdd] = React.useState(false);\n  const [selections, setSelections] = React.useState([]);\n  const [disclosed, setDisclosed] = React.useState([true, true, true, true, true]);\n  const [text, setText] = React.useState(\"\");\n  const [title, setTitle] = React.useState(\"\");\n  const [snack, setSnack] = React.useState(false);\n  const [warn, setWarn] = React.useState(false);\n\n  useEffect(() => {\n    getCredentials();\n    isAdmin();\n    getContacts();\n  }, [admin])\n\n  const handleClickOpen = (index) => {\n    setSelectedCredential(index)\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    if (selectedCredential !== -1) {\n      const key = Object.keys(credentials)[selectedCredential]\n      let ref = db.ref('/Credentials/' + key);\n      ref.child('valid').set('false')\n    }\n    setOpen(false);\n  };\n\n  const handleCloseContact = () => {\n    let ref = db.ref('/Contact');\n    if (admin) {\n      ref.child('users/' + nickname).set({email: contactEmail})\n    }\n    setOpenContact(false);\n  };\n\n\n\n\n  const handleChange2 = (event) => {\n    setState2({\n      ...state2,\n      [event.target.name]: event.target.checked,\n    });\n  };\n\n  const { wam, faculty, units } = state2;\n\n  const getCredentials = () => {\n    let ref = db.ref('/Credentials');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      setCredentials(state);\n    });\n  }\n\n  const getContacts = () => {\n    let ref = db.ref('/Contact/admin');\n    if (admin) {\n      ref = db.ref('/Contact/users');\n    }\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      setContacts(state);\n    })\n  }\n\n  const isAdmin = () => {\n    let ref = db.ref('/Roles');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      const obj = Object.values(state?.admin);\n      console.log(user.email)\n      console.log(obj[0])\n      if (obj?.length > 0 && obj[0] === user.email) {\n        setAdmin(true);\n      }\n    });\n  }\n\n  async function handleLogout() {\n    setError(\"\")\n\n    try {\n      await logout()\n      history.push(\"/login\")\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n\n  const handleSelectiveDisclosure = (index) => {\n    const obj = Object.values(credentials)[index]\n    setSelections(Object.entries(obj))\n    setPage(3)\n  }\n\n\nconst setCredential = (credential_name, body) => {\n  let ref = db.ref('/Credentials');\n  ref.child(credential_name).set({...body, issuedBy: \"UNSW\", valid: \"true\"})\n};\n  let a = genKeyPair(admin)\n\n  return (\n    <>\n    { page === 0 && <Box>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Profile</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <p><strong>Email:</strong> {currentUser.email}</p>\n          <p><strong>DID:</strong> {generateDID(user.uid)}</p>\n          <p><strong>private key:</strong> {a}</p>\n\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\n            Update Profile\n          </Link>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        <Button variant=\"link\" onClick={handleLogout}>\n          Log Out\n        </Button>\n      </div>\n    </Box>\n    }\n    { page === 1 && \n    <>\n      <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\n        {credentials && Object.entries(credentials).map((entry, index) => (\n          <>\n            <ListItem alignItems=\"flex-start\">\n              <ListItemAvatar>\n              <Avatar sx={{ bgcolor: green[500] }}>\n                <AssignmentIcon onClick={() => handleSelectiveDisclosure(index)}/>\n              </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n              primary={entry[0]}\n              secondary={\n                <React.Fragment>\n                  <Typography\n                    sx={{ display: 'inline' }}\n                    component=\"span\"\n                    variant=\"body2\"\n                    color=\"text.primary\"\n                  >\n                    Issued by: {entry[1].issuedBy}\n                  </Typography>\n                </React.Fragment>\n              }\n            />\n            {admin && <BlockIcon onClick={() => handleClickOpen(index)}/>}\n          </ListItem>\n          <Divider variant=\"inset\" component=\"li\" />\n        </>\n        ))}\n      </List>\n      {admin && \n      <div>\n        <input type=\"file\" onChange={(e) => {\n          if (e.target.files) {\n            setFile(e.target.files[0])\n          }\n        }}/>\n        <div>{file && `${file.name} - ${file.type}`}</div>\n        <Button\n          variant=\"contained\"\n          component=\"label\"\n          disabled={!file}\n          onClick={() => setSnack(true)}\n        >\n          Scan QR Code\n        </Button>\n      </div>\n      }\n      <Snackbar anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }} open={snack} autoHideDuration={6000} onClose={() => setSnack(false)}>\n        <Alert onClose={() => setSnack(false)} severity=\"success\">\n          Verified!\n        </Alert>\n      </Snackbar>\n    </>\n    }\n    {\n      page === 2 && <Box>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Contacts</h2>\n          <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\n            {contacts && Object.entries(contacts).map((entry, index) => (\n                   <>\n                   <ListItem alignItems=\"flex-start\">\n                    <ListItemAvatar>\n                      <Avatar>\n                        <PersonIcon onClick={() => setOpenAdd(true)} />\n                      </Avatar>\n                    </ListItemAvatar>\n                    <ListItemText\n                      primary={entry[0]}\n                      secondary={\n                        <React.Fragment>\n                          <Typography\n                            sx={{ display: 'inline' }}\n                            component=\"span\"\n                            variant=\"body2\"\n                            color=\"text.primary\"\n                          >\n                            {entry[1].email.toString()}\n                          </Typography>\n                        </React.Fragment>\n                      }\n                    />\n                  </ListItem>\n                  <Divider variant=\"inset\" component=\"li\" />\n                  </>\n            ))}\n          </List>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        {admin && <Button variant=\"link\" onClick={() => setOpenContact(true)}>\n          Add Contacts\n        </Button>}\n        <Dialog open={openContact} onClose={() => setOpenContact(true)}>\n        <DialogTitle>Add Contact</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            To add a new contact, please enter the email address here.\n          </DialogContentText>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"name\"\n            label=\"Email Address\"\n            type=\"email\"\n            fullWidth\n            variant=\"standard\"\n            value={contactEmail}\n            onChange={(e) => setContactEmail(e.target.value)}\n          />\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            id=\"nickname\"\n            label=\"Nickname\"\n            type=\"text\"\n            fullWidth\n            variant=\"standard\"\n            value={nickname}\n            onChange={(e) => setNickname(e.target.value)}\n          />\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenContact(false)}>Cancel</Button>\n          <Button onClick={() => handleCloseContact()}>Add</Button>\n        </DialogActions>\n      </Dialog>\n      <Dialog open={openAdd} onClose={() => setOpenAdd(true)}>\n        <DialogTitle>Issue Credential to the user</DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            Please type in the credential in JSON format.\n          </DialogContentText>\n          <TextField label=\"key\" value = {title} onChange={(e) => setTitle(e.target.value)}/>\n          <TextareaAutosize value = {text} onChange={(e) => setText(e.target.value)}/>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={() => setOpenAdd(false)}>Cancel</Button>\n          <Button onClick={() => {\n            setCredential(title, JSON.parse(text.toString()))\n            setOpenAdd(false)\n          }}>Issue</Button>\n        </DialogActions>\n      </Dialog>\n      </div>\n    </Box>\n    }\n    {\n      page === 3 && <Box>\n         <FormControl sx={{ m: 3 }} component=\"fieldset\" variant=\"standard\">\n        <FormLabel component=\"legend\">Selective Disclosure</FormLabel>\n        <FormGroup>\n          {selections.map((entry, index) => {\n            if (entry[0] === \"issuedBy\" || entry[0] === \"valid\") {\n              return <> </>;\n            }\n            return (\n              <FormControlLabel\n                control={\n                  <Checkbox checked={disclosed[index]} onChange={()=>{\n                    setDisclosed([...disclosed.slice(0, index), !disclosed[index], ...disclosed.slice(index+1)])\n                  }} name={entry[0]} />\n                }\n                label={entry[0]}\n              />\n            )\n          })}\n        </FormGroup>\n        <Button variant=\"contained\" onClick={() => {\n          if (selections.find((entry, index) => { return entry[0] === \"valid\" && selections[index][1] === \"true\"})) {\n            setPage(5)\n          } else {\n            setWarn(true)\n          }\n        }}>Confirm</Button>\n        <FormHelperText>Please choose the fields you want to disclose</FormHelperText>\n      </FormControl>\n      <Snackbar anchorOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }} open={warn} autoHideDuration={6000} onClose={() => setWarn(false)}>\n        <Alert onClose={() => setWarn(false)} severity=\"error\">\n          The credential has been revoked by the issuer\n        </Alert>\n      </Snackbar>\n      </Box>\n    }\n    {\n      page === 4 && <Box>\n         <FormControl sx={{ m: 3 }} component=\"fieldset\" variant=\"standard\">\n        <FormLabel component=\"legend\">Selective Disclosure</FormLabel>\n        <FormGroup>\n          <FormControlLabel\n            control={\n              <Checkbox checked={wam} onChange={handleChange2} name=\"wam\" />\n            }\n            label=\"WAM\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox checked={faculty} onChange={handleChange2} name=\"faculty\" />\n            }\n            label=\"faculty\"\n          />\n          <FormControlLabel\n            control={\n              <Checkbox checked={units} onChange={handleChange2} name=\"units\" />\n            }\n            label=\"units\"\n          />\n        </FormGroup>\n        <Button variant=\"contained\" onClick={() => setPage(6)}>Confirm</Button>\n        <FormHelperText>Please choose the fields you want to disclose</FormHelperText>\n      </FormControl>\n      </Box>\n    }\n    {\n      page === 5 &&\n      <Box>\n        {\n          !admin && <div>\n            Please present this QR code to the verifier\n            <img style={{ width: 250, height: 250 }} src={img} alt=\"error generating qr code\" />\n          </div>\n        }\n        <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\n        \n        {disclosed.map((value, index) => {\n          if (value && selections[index][0] !== \"issuedBy\" && selections[index][0] !== \"valid\") {\n            return (\n              <ListItem>\n                <ListItemAvatar>\n                  <Avatar>\n                    <PersonIcon color=\"primary\"/>\n                  </Avatar>\n                </ListItemAvatar>\n                <ListItemText primary={selections[index][0]} secondary={selections[index][1]} />\n              </ListItem>\n            )\n          }\n        })}\n    </List>\n    </Box>\n    }\n    {\n      page === 6 &&\n      <List sx={{ width: '100%', maxWidth: 360, bgcolor: 'background.paper' }}>\n      { wam && <ListItem>\n        <ListItemAvatar>\n          <Avatar>\n            <GradingIcon />\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText primary=\"WAM\" secondary=\"82\" />\n      </ListItem>}\n      {faculty && <ListItem>\n        <ListItemAvatar>\n          <Avatar>\n            <SchoolIcon />\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText primary=\"Faculty\" secondary=\"Engineering\" />\n      </ListItem>}\n      {units && <ListItem>\n        <ListItemAvatar>\n          <Avatar>\n            <LocalLibraryIcon />\n          </Avatar>\n        </ListItemAvatar>\n        <ListItemText primary=\"Units completed\" secondary=\"128\" />\n      </ListItem>}\n    </List>\n    }\n    <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">\n          {\"Revoke credential?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            Once you confirm the credential will be revoked.\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose}>Disagree</Button>\n          <Button onClick={handleClose} autoFocus>\n            Agree\n          </Button>\n        </DialogActions>\n      </Dialog>\n    <SimpleBottomNavigation setPage ={setPage}/>\n  </>\n  )\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}