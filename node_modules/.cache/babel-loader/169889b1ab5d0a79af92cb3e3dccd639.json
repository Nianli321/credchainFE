{"ast":null,"code":"var _jsxFileName = \"/Users/nian/React-Firebase-Auth/src/contexts/AuthContext.js\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { auth } from \"../firebase\";\nconst AuthContext = React.createContext();\nexport function useAuth() {\n  return useContext(AuthContext);\n}\nexport function AuthProvider(_ref) {\n  let {\n    children\n  } = _ref;\n  const [currentUser, setCurrentUser] = useState();\n  const [loading, setLoading] = useState(true);\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password);\n  }\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password);\n  }\n  function logout() {\n    return auth.signOut();\n  }\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email);\n  }\n  function updateEmail(email) {\n    return currentUser.updateEmail(email);\n  }\n  function updatePassword(password) {\n    return currentUser.updatePassword(password);\n  }\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, []);\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  };\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: value,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, !loading && children);\n}","map":{"version":3,"names":["React","useContext","useState","useEffect","auth","AuthContext","createContext","useAuth","AuthProvider","_ref","children","currentUser","setCurrentUser","loading","setLoading","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateEmail","updatePassword","unsubscribe","onAuthStateChanged","user","value","createElement","Provider","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/nian/React-Firebase-Auth/src/contexts/AuthContext.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\"\nimport { auth } from \"../firebase\"\n\nconst AuthContext = React.createContext()\n\nexport function useAuth() {\n  return useContext(AuthContext)\n}\n\nexport function AuthProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState()\n  const [loading, setLoading] = useState(true)\n\n  function signup(email, password) {\n    return auth.createUserWithEmailAndPassword(email, password)\n  }\n\n  function login(email, password) {\n    return auth.signInWithEmailAndPassword(email, password)\n  }\n\n  function logout() {\n    return auth.signOut()\n  }\n\n  function resetPassword(email) {\n    return auth.sendPasswordResetEmail(email)\n  }\n\n  function updateEmail(email) {\n    return currentUser.updateEmail(email)\n  }\n\n  function updatePassword(password) {\n    return currentUser.updatePassword(password)\n  }\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(user => {\n      setCurrentUser(user)\n      setLoading(false)\n    })\n\n    return unsubscribe\n  }, [])\n\n  const value = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateEmail,\n    updatePassword\n  }\n\n  return (\n    <AuthContext.Provider value={value}>\n      {!loading && children}\n    </AuthContext.Provider>\n  )\n}\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC9D,SAASC,IAAI,QAAQ,aAAa;AAElC,MAAMC,WAAW,GAAGL,KAAK,CAACM,aAAa,EAAE;AAEzC,OAAO,SAASC,OAAOA,CAAA,EAAG;EACxB,OAAON,UAAU,CAACI,WAAW,CAAC;AAChC;AAEA,OAAO,SAASG,YAAYA,CAAAC,IAAA,EAAe;EAAA,IAAd;IAAEC;EAAS,CAAC,GAAAD,IAAA;EACvC,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,EAAE;EAChD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAE5C,SAASa,MAAMA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IAC/B,OAAOb,IAAI,CAACc,8BAA8B,CAACF,KAAK,EAAEC,QAAQ,CAAC;EAC7D;EAEA,SAASE,KAAKA,CAACH,KAAK,EAAEC,QAAQ,EAAE;IAC9B,OAAOb,IAAI,CAACgB,0BAA0B,CAACJ,KAAK,EAAEC,QAAQ,CAAC;EACzD;EAEA,SAASI,MAAMA,CAAA,EAAG;IAChB,OAAOjB,IAAI,CAACkB,OAAO,EAAE;EACvB;EAEA,SAASC,aAAaA,CAACP,KAAK,EAAE;IAC5B,OAAOZ,IAAI,CAACoB,sBAAsB,CAACR,KAAK,CAAC;EAC3C;EAEA,SAASS,WAAWA,CAACT,KAAK,EAAE;IAC1B,OAAOL,WAAW,CAACc,WAAW,CAACT,KAAK,CAAC;EACvC;EAEA,SAASU,cAAcA,CAACT,QAAQ,EAAE;IAChC,OAAON,WAAW,CAACe,cAAc,CAACT,QAAQ,CAAC;EAC7C;EAEAd,SAAS,CAAC,MAAM;IACd,MAAMwB,WAAW,GAAGvB,IAAI,CAACwB,kBAAkB,CAACC,IAAI,IAAI;MAClDjB,cAAc,CAACiB,IAAI,CAAC;MACpBf,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;IAEF,OAAOa,WAAW;EACpB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,KAAK,GAAG;IACZnB,WAAW;IACXQ,KAAK;IACLJ,MAAM;IACNM,MAAM;IACNE,aAAa;IACbE,WAAW;IACXC;EACF,CAAC;EAED,oBACE1B,KAAA,CAAA+B,aAAA,CAAC1B,WAAW,CAAC2B,QAAQ;IAACF,KAAK,EAAEA,KAAM;IAAAG,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChC,CAACzB,OAAO,IAAIH,QAAQ,CACA;AAE3B"},"metadata":{},"sourceType":"module"}